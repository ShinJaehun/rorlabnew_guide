<!DOCTYPE HTML>
<html lang="en-US" manifest="../../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>GitBook 저장소를 gh-pages로 배포하기 | RORLa Project GuideBook</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="RORLabGitBook">
        <meta name="description" content="The Guidebook for Contributing RORLa Open Source Project">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        
        <link rel="prev" href="../../contents/references/coding_convention.html" />
        

        <meta property="og:title" content="GitBook 저장소를 gh-pages로 배포하기 | RORLa Project GuideBook">
        <meta property="og:site_name" content="RORLa Project GuideBook">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/RORLabGitBook">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../../gitbook/style.css">
        

    
    <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-richquotes/plugin.css">
    


        
    <div class="book" data-github="RORLabGitBook/rorlabnew_guide" data-level="8.3" data-basepath="../.." data-revision="1400027027794">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/RORLabGitBook/rorlabnew_guide" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/RORLabGitBook/rorlabnew_guide/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/RORLabGitBook/rorlabnew_guide/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../../" >RORLa Project GuideBook</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/RORLabGitBook" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/RORLabGitBook/rorlabnew_guide/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/RORLabGitBook/rorlabnew_guide/edit/master/contents/references/gitbook_deployment.md" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="../../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="contents/Development Stack.html">
                
                <a href="../../contents/Development Stack.html">
                    <i class="fa fa-check"></i> <b>1.</b> Development Stack
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="contents/collaboration_tools.html">
                
                <a href="../../contents/collaboration_tools.html">
                    <i class="fa fa-check"></i> <b>2.</b> Collaboration Tools
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="contents/collaboration_tools/add_upstream_to_local.html">
                            
                            <a href="../../contents/collaboration_tools/add_upstream_to_local.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> 로컬머신에 &quot;upstream&quot; 저장소 추가하기
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="contents/contribution.html">
                
                <a href="../../contents/contribution.html">
                    <i class="fa fa-check"></i> <b>3.</b> Contribution
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="contents/offline_meeting.html">
                
                <a href="../../contents/offline_meeting.html">
                    <i class="fa fa-check"></i> <b>4.</b> Offline Meeting
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="contents/tdd_rspec.html">
                
                <a href="../../contents/tdd_rspec.html">
                    <i class="fa fa-check"></i> <b>5.</b> TDD with RSpec
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="contents/capistrano/README.html">
                
                <a href="../../contents/capistrano/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> Deployment with Capistrano
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="contents/capistrano/upgrade_from_version_2.html">
                            
                            <a href="../../contents/capistrano/upgrade_from_version_2.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Capistrano 2.x 에서 업그레이드하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="contents/capistrano/cap_ver_3_readme.html">
                            
                            <a href="../../contents/capistrano/cap_ver_3_readme.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Capistrano 3 README
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="contents/capistrano/deploy_with_cap_ver_3.html">
                            
                            <a href="../../contents/capistrano/deploy_with_cap_ver_3.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Capistrano 3를 이용한 레일스 프로젝트의 배포
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="contents/capistrano/sshkit_readme.html">
                            
                            <a href="../../contents/capistrano/sshkit_readme.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> SSHKit README
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="contents/capistrano/sshkit_usages.html">
                            
                            <a href="../../contents/capistrano/sshkit_usages.html">
                                <i class="fa fa-check"></i> <b>6.5.</b> SSHKit 사용 예제
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="contents/server/README.html">
                
                <a href="../../contents/server/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> 서버 세팅
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="contents/server/centos_6_5.html">
                            
                            <a href="../../contents/server/centos_6_5.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> CentOS 6.5 서버 설치
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="contents/references.html">
                
                <a href="../../contents/references.html">
                    <i class="fa fa-check"></i> <b>8.</b> References
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="contents/references/github_forking_to_pull_request.html">
                            
                            <a href="../../contents/references/github_forking_to_pull_request.html">
                                <i class="fa fa-check"></i> <b>8.1.</b> 저장소를 포킹하여 Pull Request하기
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="contents/references/coding_convention.html">
                            
                            <a href="../../contents/references/coding_convention.html">
                                <i class="fa fa-check"></i> <b>8.2.</b> coding_convention
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="contents/references/gitbook_deployment.html">
                            
                            <a href="../../contents/references/gitbook_deployment.html">
                                <i class="fa fa-check"></i> <b>8.3.</b> GitBook 저장소를 gh-pages로 배포하기
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 100%;min-width: 94.44444444444444%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../../contents/Development Stack.html" title="Development Stack" class="chapter done new-chapter" data-progress="1" style="left: 5.555555555555555%;"></a>
    
        <a href="../../contents/collaboration_tools.html" title="Collaboration Tools" class="chapter done new-chapter" data-progress="2" style="left: 11.11111111111111%;"></a>
    
        <a href="../../contents/collaboration_tools/add_upstream_to_local.html" title="로컬머신에 &quot;upstream&quot; 저장소 추가하기" class="chapter done " data-progress="2.1" style="left: 16.666666666666668%;"></a>
    
        <a href="../../contents/contribution.html" title="Contribution" class="chapter done new-chapter" data-progress="3" style="left: 22.22222222222222%;"></a>
    
        <a href="../../contents/offline_meeting.html" title="Offline Meeting" class="chapter done new-chapter" data-progress="4" style="left: 27.77777777777778%;"></a>
    
        <a href="../../contents/tdd_rspec.html" title="TDD with RSpec" class="chapter done new-chapter" data-progress="5" style="left: 33.333333333333336%;"></a>
    
        <a href="../../contents/capistrano/README.html" title="Deployment with Capistrano" class="chapter done new-chapter" data-progress="6" style="left: 38.888888888888886%;"></a>
    
        <a href="../../contents/capistrano/upgrade_from_version_2.html" title="Capistrano 2.x 에서 업그레이드하기" class="chapter done " data-progress="6.1" style="left: 44.44444444444444%;"></a>
    
        <a href="../../contents/capistrano/cap_ver_3_readme.html" title="Capistrano 3 README" class="chapter done " data-progress="6.2" style="left: 50%;"></a>
    
        <a href="../../contents/capistrano/deploy_with_cap_ver_3.html" title="Capistrano 3를 이용한 레일스 프로젝트의 배포" class="chapter done " data-progress="6.3" style="left: 55.55555555555556%;"></a>
    
        <a href="../../contents/capistrano/sshkit_readme.html" title="SSHKit README" class="chapter done " data-progress="6.4" style="left: 61.111111111111114%;"></a>
    
        <a href="../../contents/capistrano/sshkit_usages.html" title="SSHKit 사용 예제" class="chapter done " data-progress="6.5" style="left: 66.66666666666667%;"></a>
    
        <a href="../../contents/server/README.html" title="서버 세팅" class="chapter done new-chapter" data-progress="7" style="left: 72.22222222222223%;"></a>
    
        <a href="../../contents/server/centos_6_5.html" title="CentOS 6.5 서버 설치" class="chapter done " data-progress="7.1" style="left: 77.77777777777777%;"></a>
    
        <a href="../../contents/references.html" title="References" class="chapter done new-chapter" data-progress="8" style="left: 83.33333333333333%;"></a>
    
        <a href="../../contents/references/github_forking_to_pull_request.html" title="저장소를 포킹하여 Pull Request하기" class="chapter done " data-progress="8.1" style="left: 88.88888888888889%;"></a>
    
        <a href="../../contents/references/coding_convention.html" title="coding_convention" class="chapter done " data-progress="8.2" style="left: 94.44444444444444%;"></a>
    
        <a href="../../contents/references/gitbook_deployment.html" title="GitBook 저장소를 gh-pages로 배포하기" class="chapter done " data-progress="8.3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_15">
                    
                        <h1 id="gitbook-gh-pages-">GitBook 저장소를 gh-pages로 배포하기</h1>
<p>참고 : <a href="http://stackoverflow.com/a/23095566" target="_blank">http://stackoverflow.com/a/23095566</a></p>
<p>한마디로, <code>grunt</code>를 이용하여 <code>publish</code>한다.</p>
<h2 id="-">준비작업</h2>
<p>이를 위해서 로컬 시스템에 <code>npm</code>이 설치되어 있어야 한다. 구글 검색을 이용하면 쉽게 <a href="http://shapeshed.com/setting-up-nodejs-and-npm-on-mac-osx/" target="_blank"><code>npm 설치</code></a>하는 방법을 찾을 수 있다.</p>
<h2 id="-">추가파일</h2>
<p><code>Gruntfile.js</code>과 <code>package.json</code> 두개의 파일을 프로젝트 루트에 생성하여 아래와 같이 작성한다.</p>
<h3 id="gruntfile-js">Gruntfile.js</h3>
<pre><code>var path = require(&quot;path&quot;);

module.exports = function (grunt) {
    grunt.loadNpmTasks(&#39;grunt-gitbook&#39;);
    grunt.loadNpmTasks(&#39;grunt-gh-pages&#39;);
    grunt.loadNpmTasks(&#39;grunt-contrib-clean&#39;);
    grunt.loadNpmTasks(&#39;grunt-http-server&#39;);

    grunt.initConfig({
        &#39;gitbook&#39;: {
            development: {
                input: &quot;./&quot;,
                title: &quot;GitBook 제목&quot;,
                description: &quot;간단한 설명&quot;,
                github: &quot;git_account/gitbook_prj&quot;
            }
        },
        &#39;gh-pages&#39;: {
            options: {
                base: &#39;_book&#39;
            },
            src: [&#39;**&#39;]
        },
        &#39;clean&#39;: {
            files: &#39;_book&#39;
        },
        &#39;http-server&#39;: {
            &#39;dev&#39;: {
                // the server root directory
                root: &#39;_book&#39;,

                port: 4000,
                host: &quot;127.0.0.1&quot;,

                showDir : true,
                autoIndex: true,
                defaultExt: &quot;html&quot;,

                //wait or not for the process to finish
                runInBackground: false
            }
        }
    });

    grunt.registerTask(&#39;test&#39;, [
        &#39;gitbook&#39;,
        &#39;http-server&#39;
    ]);
    grunt.registerTask(&#39;publish&#39;, [
        &#39;gitbook&#39;,
        &#39;gh-pages&#39;,
        &#39;clean&#39;
    ]);
    grunt.registerTask(&#39;default&#39;, &#39;gitbook&#39;);
};
</code></pre><p>여기서 <code>grunt.initConfig</code>에서 <code>title</code>, <code>description</code>, <code>github</code> 항목을 해당 gitbook 프로젝트에 맞게 변경한다.</p>
<h3 id="package-json">package.json</h3>
<pre><code>{
    &quot;name&quot;: &quot;Gitbook Project Name&quot;,
    &quot;version&quot;: &quot;0.0.1&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;repository&quot;: {
        &quot;type&quot;: &quot;git&quot;,
        &quot;url&quot;: &quot;https://github.com/git_account/gitbook_prj.git&quot;
    },
    &quot;author&quot;: &quot;author_name &lt;author@email.com&gt;&quot;,
    &quot;license&quot;: &quot;Apache 2&quot;,
    &quot;dependencies&quot;: {},
    &quot;devDependencies&quot;: {
        &quot;grunt&quot;: &quot;~0.4.1&quot;,
        &quot;grunt-gitbook&quot;: &quot;0.4.2&quot;,
        &quot;grunt-gh-pages&quot;: &quot;0.9.1&quot;,
        &quot;grunt-contrib-clean&quot;: &quot;~0.5.0&quot;,
        &quot;grunt-http-server&quot;: &quot;0.0.4&quot;
    },
    &quot;peerDependencies&quot;: {
        &quot;grunt&quot;: &quot;~0.4.1&quot;
    }
}
</code></pre><p>위의 내용 중에 해당 프로젝트에 맞도록 항목을 변경한다.</p>
<h2 id="-">배포하기</h2>
<p>자, 이제 커맨드라인에서 아래와 같이 노드 패키지를 설치한다.</p>
<pre><code>$ npm install .
</code></pre><p>제대로 동작하는 것을 테스트하기 위해서는 아래와 같이 실행한다.</p>
<pre><code>$ grunt test
</code></pre><p>마지막으로 <code>gh-pages</code> 브랜치로 배포한다.</p>
<pre><code>$ grunt publish
</code></pre><h2 id="github-">Github 서브도메인으로 확인하기</h2>
<p>Github 웹사이트에서 해당 프로젝트로 이동한 후 <code>master</code>외에 <code>gh-pages</code> 브랜치가 생성되었는지를 확인한다. 그리고 웹페이지의 오른쪽의 <code>Setting</code> 아이콘을 클릭하여 이동한 후 <code>Github Pages</code> 박스를 보자. 아마도 10분후에 반영된다는 안내 메시지와 함께 배포된 사이트 주소링크가 보일 것이다. 10분후 이 링크를 클릭하면 배포된 사이트에서 Gitbook이 제대로 보여야 한다.</p>
<h1 id="gitbook-disqus-">Gitbook에 Disqus 댓글기능 추가하기</h1>
<p>Gitbook의 모든 페이지 하단에 Disqus 댓글기능을 추가할 수 있다.
<a href="https://github.com/GitbookIO/plugin-disqus" target="_blank">https://github.com/GitbookIO/plugin-disqus</a> 를 참고하여 정리하면 아래와 같다. (<code>$ gitbook build ./ --plugins=disqus</code>는 할 필요없음)</p>
<p><code>npm</code>을 이용하여 disqus를 위한 플러그인을 설치한다.</p>
<pre><code>$ npm install gitbook-plugin-disqus
</code></pre><p>그리고 <code>book.json</code> 파일을 열어 아래와 같이 추가한다. 없으면 생성하면 된다.</p>
<pre><code>{
  &quot;plugins&quot;: [&quot;disqus&quot;],
  &quot;pluginsConfig&quot;: {
    &quot;disqus&quot;: {
      &quot;shortName&quot;: &quot;xxxxxx&quot;
    }
  }
}
</code></pre><p>이제 테스트를 해 본다.</p>
<pre><code>$ grunt test
</code></pre><p>제대로 동작하면 서버로 배포한다.</p>
<pre><code>$ grunt publish
</code></pre><p>그리고 소스는 원격 저장소로 커밋후 푸시한다.</p>
<pre><code>$ git add .
$ git commit -m &quot;disqus 플러그인 설치&quot;
$ git push
</code></pre><h1 id="gitbook-google-analytics-">Gitbook에 Google Analytics 연결하기</h1>
<p>[참고] <a href="https://github.com/GitbookIO/plugin-ga" target="_blank">https://github.com/GitbookIO/plugin-ga</a></p>
<pre><code>$ npm install gitbook-plugin-ga
</code></pre><p>그리고 <code>book.json</code> 파일을 열어 <code>disqus</code> 플러그인에 아래와 같이 <code>ga</code> 플리그인을 추가한다. 없으면 새로 생성하면 된다.</p>
<pre><code>{
  &quot;plugins&quot;: [&quot;disqus&quot;, &quot;ga&quot;],
  &quot;pluginsConfig&quot;: {
    &quot;disqus&quot;: {
      &quot;shortName&quot;: &quot;xxxxxx&quot;
    },
    &quot;ga&quot;: {
      &quot;token&quot;: &quot;UA-XXXX-Y&quot;
    }
  }
}
</code></pre><blockquote>
<p><strong>[주의사항]</strong> <code>token</code>에는 Google Analytics tracking ID 값을 지정한다. <code>tacking ID</code> 값은 <a href="계정에서 추적 코드 및 속성 ID 찾기">계정에서 추적 코드 및 속성 ID 찾기</a>를 참고하면 알 수 있다.</p>
</blockquote>
<p>이제 테스트를 해 본다.</p>
<pre><code>$ grunt test
</code></pre><p>제대로 동작하면 서버로 배포한다.</p>
<pre><code>$ grunt publish
</code></pre><p>그리고 소스는 원격 저장소로 커밋후 푸시한다.</p>
<pre><code>$ git add .
$ git commit -m &quot;Google Analytics 플러그인 설치&quot;
$ git push
</code></pre>
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../../contents/references/coding_convention.html" class="navigation navigation-prev navigation-unique"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../../gitbook/app.js"></script>
        

    
    <script src="../../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"disqus":{"shortName":"rorlabnewguide"},"ga":{"token":"UA-30294363-4"}};
    gitbook.start(config);
});
</script>

    </body>
</html>
